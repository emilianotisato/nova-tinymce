(()=>{"use strict";var e={7008:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(3645),r=t.n(o)()((function(e){return e[1]}));r.push([e.id,".markdown p{font-size:inherit;margin-bottom:1rem}",""]);const i=r},3645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),n.push(l))}},n}},3379:(e,n,t)=>{var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function c(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},o=[],r=0;r<e.length;r++){var i=e[r],l=n.base?i[0]+n.base:i[0],u=t[l]||0,s="".concat(l," ").concat(u);t[l]=u+1;var d=c(s),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:s,updater:h(f,n),references:1}),o.push(s)}return o}function u(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var s,d=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function f(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(n,r);else{var i=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,v=0;function h(e,n){var t,o,r;if(n.singleton){var i=v++;t=m||(m=u(n)),o=f.bind(null,t,i,!1),r=f.bind(null,t,i,!0)}else t=u(n),o=p.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var t=l(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=c(t[o]);a[r].references--}for(var i=l(e,n),u=0;u<t.length;u++){var s=c(t[u]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}t=i}}}},3744:(e,n)=>{n.Z=(e,n)=>{const t=e.__vccOpts||e;for(const[e,o]of n)t[e]=o;return t}}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=Vue;const n={props:["resourceName","field"],computed:{cleanValue:function(){return this._stripHTML(this.field.value)}},methods:{_stripHTML:function(e){var n=document.createElement("DIV");return n.innerHTML=e,n.textContent||n.innerText||""}}};var o=t(3744);const r=(0,o.Z)(n,[["render",function(n,t,o,r,i,a){return(0,e.openBlock)(),(0,e.createElementBlock)("span",null,(0,e.toDisplayString)(a.cleanValue),1)}]]);const i={props:["resource","resourceName","resourceId","field"]};var a=t(3379),c=t.n(a),l=t(7008),u={insert:"head",singleton:!1};c()(l.Z,u);l.Z.locals;const s=(0,o.Z)(i,[["render",function(n,t,o,r,i,a){var c=(0,e.resolveComponent)("Excerpt"),l=(0,e.resolveComponent)("PanelItem");return(0,e.openBlock)(),(0,e.createBlock)(l,{index:n.index,field:o.field},{value:(0,e.withCtx)((function(){return[(0,e.createVNode)(c,{content:o.field.value,"should-show":o.field.shouldShow},null,8,["content","should-show"])]})),_:1},8,["index","field"])}]]);var d={key:0,class:"my-2 text-danger"};const f=LaravelNova;var p,m=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],v=function(e){return-1!==m.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},h=function(n,t,o,r,i,a){r.setContent(a()),o.attrs["onUpdate:modelValue"]&&function(n,t,o,r){var i=n.modelEvents?n.modelEvents:null,a=Array.isArray(i)?i.join(" "):i;(0,e.watch)(r,(function(e,t){o&&"string"==typeof e&&e!==t&&e!==o.getContent({format:n.outputFormat})&&o.setContent(e)})),o.on(a||"change input undo redo",(function(){t.emit("update:modelValue",o.getContent({format:n.outputFormat}))}))}(t,o,r,i),function(e,n,t){Object.keys(n).filter(v).forEach((function(o){var r=n[o];"function"==typeof r&&("onInit"===o?r(e,t):t.on(o.substring(2),(function(e){return r(e,t)})))}))}(n,o.attrs,r)},y=0,g=function(e){var n=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++y+String(n)},b=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},C=function(){return{listeners:[],scriptId:g("tiny-script"),scriptLoaded:!1}},w=(p=C(),{load:function(e,n,t){p.scriptLoaded?t():(p.listeners.push(t),e.getElementById(p.scriptId)||function(e,n,t,o){var r=n.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=e,r.src=t;var i=function(){r.removeEventListener("load",i),o()};r.addEventListener("load",i),n.head&&n.head.appendChild(r)}(p.scriptId,e,n,(function(){p.listeners.forEach((function(e){return e()})),p.scriptLoaded=!0})))},reinitialize:function(){p=C()}}),S=function(){var e="undefined"!=typeof window?window:t.g;return e&&e.tinymce?e.tinymce:null},x={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},E=function(){return E=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},E.apply(this,arguments)};const k={components:{Editor:(0,e.defineComponent)({props:x,setup:function(n,t){var o=n.init?E({},n.init):{},r=(0,e.toRefs)(n),i=r.disabled,a=r.modelValue,c=r.tagName,l=(0,e.ref)(null),u=null,s=n.id||g("tiny-vue"),d=n.init&&n.init.inline||n.inline,f=!!t.attrs["onUpdate:modelValue"],p=!0,m=n.initialValue?n.initialValue:"",v="",y=function(){var e,r,i,c=(e=p,f?function(){return(null==a?void 0:a.value)?a.value:""}:function(){return e?m:v}),y=E(E({},o),{readonly:n.disabled,selector:"#"+s,plugins:(r=o.plugins,i=n.plugins,b(r).concat(b(i))),toolbar:n.toolbar||o.toolbar,inline:d,setup:function(e){u=e,e.on("init",(function(o){return h(o,n,t,e,a,c)})),"function"==typeof o.setup&&o.setup(e)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(l.value)&&(l.value.style.visibility=""),S().init(y),p=!1};(0,e.watch)(i,(function(e){var n;null!==u&&("function"==typeof(null===(n=u.mode)||void 0===n?void 0:n.set)?u.mode.set(e?"readonly":"design"):u.setMode(e?"readonly":"design"))})),(0,e.watch)(c,(function(n){var t;f||(v=u.getContent()),null===(t=S())||void 0===t||t.remove(u),(0,e.nextTick)((function(){return y()}))})),(0,e.onMounted)((function(){if(null!==S())y();else if(l.value&&l.value.ownerDocument){var e=n.cloudChannel?n.cloudChannel:"6",t=n.apiKey?n.apiKey:"no-api-key",o=null==n.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":n.tinymceScriptSrc;w.load(l.value.ownerDocument,o,y)}})),(0,e.onBeforeUnmount)((function(){null!==S()&&S().remove(u)})),d||((0,e.onActivated)((function(){p||y()})),(0,e.onDeactivated)((function(){var e;f||(v=u.getContent()),null===(e=S())||void 0===e||e.remove(u)})));return t.expose({rerender:function(n){var t;v=u.getContent(),null===(t=S())||void 0===t||t.remove(u),o=E(E({},o),n),(0,e.nextTick)((function(){return y()}))}}),function(){return d?function(e,n,t,o){return e(o||"div",{id:n,ref:t})}(e.h,s,l,n.tagName):(0,e.h)("textarea",{id:s,visibility:"hidden",ref:l})}}})},mixins:[f.DependentFormField,f.HandlesValidationErrors],props:["resourceName","resourceId","field"],data:function(){return{editorKey:0}},computed:{options:function(){var e=this.field.options;return e.use_lfm&&(e.file_picker_callback=this.filePicker),e.use_dark&&e.content_css_dark&&e.skin_url_dark&&document.documentElement.classList.contains("dark")&&(e.content_css=e.content_css_dark,e.skin_url=e.skin_url_dark),e}},mounted:function(){Nova.$on("flexible-content-order-changed",this.incrementKey)},unmounted:function(){Nova.$off("flexible-content-order-changed",this.incrementKey)},methods:{setInitialValue:function(){this.value=this.field.value||""},fill:function(e){e.append(this.field.attribute,this.value||"")},handleChange:function(e){this.value=e},filePicker:function(e,n,t){var o=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,i="image"===t.filetype?"Images":"Files",a=this.options.path_absolute+this.options.lfm_url+"?editor=tinymce5&type="+i;tinymce.activeEditor.windowManager.openUrl({url:a,title:"File manager",width:.8*o,height:.8*r,onMessage:function(n,t){e(t.content)}})},incrementKey:function(e){this.editorKey++}}},M=(0,o.Z)(k,[["render",function(n,t,o,r,i,a){var c=(0,e.resolveComponent)("editor"),l=(0,e.resolveComponent)("DefaultField");return(0,e.openBlock)(),(0,e.createBlock)(l,{field:n.currentField,"full-width-content":!0,"show-help-text":n.showHelpText,key:i.editorKey},{field:(0,e.withCtx)((function(){return[(0,e.createVNode)(c,{id:n.currentField.id||n.currentField.attribute,modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),class:(0,e.normalizeClass)(n.errorClasses),placeholder:n.currentField.name,init:a.options},null,8,["id","modelValue","class","placeholder","init"]),n.hasError?((0,e.openBlock)(),(0,e.createElementBlock)("p",d,(0,e.toDisplayString)(n.firstError),1)):(0,e.createCommentVNode)("",!0)]})),_:1},8,["field","show-help-text"])}]]);Nova.booting((function(e,n){e.component("index-Nova-TinyMCE",r),e.component("detail-Nova-TinyMCE",s),e.component("form-Nova-TinyMCE",M)}))})()})();